{"ast":null,"code":"var _jsxFileName = \"/home/workspace/reactjs/coding-practices/enhancementOfRestaurantApp/src/components/Login/index.js\";\nimport { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\nimport \"./index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      usernameInput: \"\",\n      passwordInput: \"\",\n      ErrorMsg: \"\"\n    };\n    this.onChangeUserInput = event => {\n      this.setState({\n        usernameInput: event.target.value\n      });\n    };\n    this.onChangePassword = event => {\n      this.setState({\n        passwordInput: event.target.value\n      });\n    };\n    this.onSubmitSuccess = jwtToken => {\n      Cookies.set(\"jwt_token\", jwtToken, {\n        expires: 30\n      });\n      const {\n        history\n      } = this.props;\n      history.replace(\"/\");\n      this.setState({\n        ErrorMsg: \"\"\n      });\n    };\n    this.onSubmitFailure = error => {\n      this.setState({\n        ErrorMsg: `*${error}`\n      });\n    };\n    this.onClickLogin = async event => {\n      event.preventDefault();\n      const {\n        usernameInput,\n        passwordInput\n      } = this.state;\n      const apiUrl = \"https://apis.ccbp.in/login\";\n      const userDetails = {\n        username: usernameInput,\n        password: passwordInput\n      };\n      const stringifiedData = JSON.stringify(userDetails);\n      const options = {\n        method: \"POST\",\n        body: stringifiedData\n      };\n      const response = await fetch(apiUrl, options);\n      const data = await response.json();\n      if (response.ok === true) {\n        this.onSubmitSuccess(data.jwt_token);\n      } else {\n        this.onSubmitFailure(data.error_msg);\n      }\n    };\n  }\n  render() {\n    const jwtToken = Cookies.get(\"jwt_token\");\n    if (jwtToken !== undefined) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 14\n      }, this);\n    }\n    const {\n      ErrorMsg,\n      usernameInput,\n      passwordInput\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-container\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form-container\",\n        onClick: this.onClickLogin,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://assets.ccbp.in/frontend/react-js/logo-img.png\",\n          alt: \"website logo\",\n          className: \"webiste-logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"username-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"username\",\n            className: \"username-label\",\n            children: \"USERNAME\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"username\",\n            type: \"text\",\n            placeholder: \"Username\",\n            className: \"userinput\",\n            value: usernameInput,\n            onChange: this.onChangeUserInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"username-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            className: \"username-label\",\n            children: \"PASSWORD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"password\",\n            type: \"password\",\n            placeholder: \"Password\",\n            className: \"userinput\",\n            value: passwordInput,\n            onChange: this.onChangePassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"login-btn\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-msg\",\n          children: ErrorMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Login;","map":{"version":3,"names":["Component","Redirect","Cookies","jsxDEV","_jsxDEV","Login","constructor","args","state","usernameInput","passwordInput","ErrorMsg","onChangeUserInput","event","setState","target","value","onChangePassword","onSubmitSuccess","jwtToken","set","expires","history","props","replace","onSubmitFailure","error","onClickLogin","preventDefault","apiUrl","userDetails","username","password","stringifiedData","JSON","stringify","options","method","body","response","fetch","data","json","ok","jwt_token","error_msg","render","get","undefined","to","fileName","_jsxFileName","lineNumber","columnNumber","className","children","onClick","src","alt","htmlFor","id","type","placeholder","onChange"],"sources":["/home/workspace/reactjs/coding-practices/enhancementOfRestaurantApp/src/components/Login/index.js"],"sourcesContent":["import { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\nimport \"./index.css\";\n\nclass Login extends Component {\n  state = { usernameInput: \"\", passwordInput: \"\", ErrorMsg: \"\" };\n\n  onChangeUserInput = (event) => {\n    this.setState({\n      usernameInput: event.target.value,\n    });\n  };\n\n  onChangePassword = (event) => {\n    this.setState({\n      passwordInput: event.target.value,\n    });\n  };\n\n  onSubmitSuccess = (jwtToken) => {\n    Cookies.set(\"jwt_token\", jwtToken, { expires: 30 });\n    const { history } = this.props;\n\n    history.replace(\"/\");\n    this.setState({\n      ErrorMsg: \"\",\n    });\n  };\n\n  onSubmitFailure = (error) => {\n    this.setState({\n      ErrorMsg: `*${error}`,\n    });\n  };\n\n  onClickLogin = async (event) => {\n    event.preventDefault();\n    const { usernameInput, passwordInput } = this.state;\n    const apiUrl = \"https://apis.ccbp.in/login\";\n    const userDetails = {\n      username: usernameInput,\n      password: passwordInput,\n    };\n    const stringifiedData = JSON.stringify(userDetails);\n    const options = {\n      method: \"POST\",\n      body: stringifiedData,\n    };\n\n    const response = await fetch(apiUrl, options);\n    const data = await response.json();\n\n    if (response.ok === true) {\n      this.onSubmitSuccess(data.jwt_token);\n    } else {\n      this.onSubmitFailure(data.error_msg);\n    }\n  };\n\n  render() {\n    const jwtToken = Cookies.get(\"jwt_token\");\n    if (jwtToken !== undefined) {\n      return <Redirect to=\"/\" />;\n    }\n    const { ErrorMsg, usernameInput, passwordInput } = this.state;\n    return (\n      <div className=\"bg-container\">\n        <form className=\"form-container\" onClick={this.onClickLogin}>\n          <img\n            src=\"https://assets.ccbp.in/frontend/react-js/logo-img.png\"\n            alt=\"website logo\"\n            className=\"webiste-logo\"\n          />\n          <div className=\"username-container\">\n            <label htmlFor=\"username\" className=\"username-label\">\n              USERNAME\n            </label>\n            <input\n              id=\"username\"\n              type=\"text\"\n              placeholder=\"Username\"\n              className=\"userinput\"\n              value={usernameInput}\n              onChange={this.onChangeUserInput}\n            />\n          </div>\n          <div className=\"username-container\">\n            <label htmlFor=\"password\" className=\"username-label\">\n              PASSWORD\n            </label>\n            <input\n              id=\"password\"\n              type=\"password\"\n              placeholder=\"Password\"\n              className=\"userinput\"\n              value={passwordInput}\n              onChange={this.onChangePassword}\n            />\n          </div>\n          <button type=\"submit\" className=\"login-btn\">\n            Login\n          </button>\n          <p className=\"error-msg\">{ErrorMsg}</p>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,OAAOC,OAAO,MAAM,WAAW;AAC/B,OAAO,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErB,MAAMC,KAAK,SAASL,SAAS,CAAC;EAAAM,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IAAA,KAC5BC,KAAK,GAAG;MAAEC,aAAa,EAAE,EAAE;MAAEC,aAAa,EAAE,EAAE;MAAEC,QAAQ,EAAE;IAAG,CAAC;IAAA,KAE9DC,iBAAiB,GAAIC,KAAK,IAAK;MAC7B,IAAI,CAACC,QAAQ,CAAC;QACZL,aAAa,EAAEI,KAAK,CAACE,MAAM,CAACC;MAC9B,CAAC,CAAC;IACJ,CAAC;IAAA,KAEDC,gBAAgB,GAAIJ,KAAK,IAAK;MAC5B,IAAI,CAACC,QAAQ,CAAC;QACZJ,aAAa,EAAEG,KAAK,CAACE,MAAM,CAACC;MAC9B,CAAC,CAAC;IACJ,CAAC;IAAA,KAEDE,eAAe,GAAIC,QAAQ,IAAK;MAC9BjB,OAAO,CAACkB,GAAG,CAAC,WAAW,EAAED,QAAQ,EAAE;QAAEE,OAAO,EAAE;MAAG,CAAC,CAAC;MACnD,MAAM;QAAEC;MAAQ,CAAC,GAAG,IAAI,CAACC,KAAK;MAE9BD,OAAO,CAACE,OAAO,CAAC,GAAG,CAAC;MACpB,IAAI,CAACV,QAAQ,CAAC;QACZH,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ,CAAC;IAAA,KAEDc,eAAe,GAAIC,KAAK,IAAK;MAC3B,IAAI,CAACZ,QAAQ,CAAC;QACZH,QAAQ,EAAG,IAAGe,KAAM;MACtB,CAAC,CAAC;IACJ,CAAC;IAAA,KAEDC,YAAY,GAAG,MAAOd,KAAK,IAAK;MAC9BA,KAAK,CAACe,cAAc,CAAC,CAAC;MACtB,MAAM;QAAEnB,aAAa;QAAEC;MAAc,CAAC,GAAG,IAAI,CAACF,KAAK;MACnD,MAAMqB,MAAM,GAAG,4BAA4B;MAC3C,MAAMC,WAAW,GAAG;QAClBC,QAAQ,EAAEtB,aAAa;QACvBuB,QAAQ,EAAEtB;MACZ,CAAC;MACD,MAAMuB,eAAe,GAAGC,IAAI,CAACC,SAAS,CAACL,WAAW,CAAC;MACnD,MAAMM,OAAO,GAAG;QACdC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEL;MACR,CAAC;MAED,MAAMM,QAAQ,GAAG,MAAMC,KAAK,CAACX,MAAM,EAAEO,OAAO,CAAC;MAC7C,MAAMK,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;MAElC,IAAIH,QAAQ,CAACI,EAAE,KAAK,IAAI,EAAE;QACxB,IAAI,CAACzB,eAAe,CAACuB,IAAI,CAACG,SAAS,CAAC;MACtC,CAAC,MAAM;QACL,IAAI,CAACnB,eAAe,CAACgB,IAAI,CAACI,SAAS,CAAC;MACtC;IACF,CAAC;EAAA;EAEDC,MAAMA,CAAA,EAAG;IACP,MAAM3B,QAAQ,GAAGjB,OAAO,CAAC6C,GAAG,CAAC,WAAW,CAAC;IACzC,IAAI5B,QAAQ,KAAK6B,SAAS,EAAE;MAC1B,oBAAO5C,OAAA,CAACH,QAAQ;QAACgD,EAAE,EAAC;MAAG;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAC5B;IACA,MAAM;MAAE1C,QAAQ;MAAEF,aAAa;MAAEC;IAAc,CAAC,GAAG,IAAI,CAACF,KAAK;IAC7D,oBACEJ,OAAA;MAAKkD,SAAS,EAAC,cAAc;MAAAC,QAAA,eAC3BnD,OAAA;QAAMkD,SAAS,EAAC,gBAAgB;QAACE,OAAO,EAAE,IAAI,CAAC7B,YAAa;QAAA4B,QAAA,gBAC1DnD,OAAA;UACEqD,GAAG,EAAC,uDAAuD;UAC3DC,GAAG,EAAC,cAAc;UAClBJ,SAAS,EAAC;QAAc;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzB,CAAC,eACFjD,OAAA;UAAKkD,SAAS,EAAC,oBAAoB;UAAAC,QAAA,gBACjCnD,OAAA;YAAOuD,OAAO,EAAC,UAAU;YAACL,SAAS,EAAC,gBAAgB;YAAAC,QAAA,EAAC;UAErD;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACRjD,OAAA;YACEwD,EAAE,EAAC,UAAU;YACbC,IAAI,EAAC,MAAM;YACXC,WAAW,EAAC,UAAU;YACtBR,SAAS,EAAC,WAAW;YACrBtC,KAAK,EAAEP,aAAc;YACrBsD,QAAQ,EAAE,IAAI,CAACnD;UAAkB;YAAAsC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNjD,OAAA;UAAKkD,SAAS,EAAC,oBAAoB;UAAAC,QAAA,gBACjCnD,OAAA;YAAOuD,OAAO,EAAC,UAAU;YAACL,SAAS,EAAC,gBAAgB;YAAAC,QAAA,EAAC;UAErD;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACRjD,OAAA;YACEwD,EAAE,EAAC,UAAU;YACbC,IAAI,EAAC,UAAU;YACfC,WAAW,EAAC,UAAU;YACtBR,SAAS,EAAC,WAAW;YACrBtC,KAAK,EAAEN,aAAc;YACrBqD,QAAQ,EAAE,IAAI,CAAC9C;UAAiB;YAAAiC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNjD,OAAA;UAAQyD,IAAI,EAAC,QAAQ;UAACP,SAAS,EAAC,WAAW;UAAAC,QAAA,EAAC;QAE5C;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTjD,OAAA;UAAGkD,SAAS,EAAC,WAAW;UAAAC,QAAA,EAAE5C;QAAQ;UAAAuC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC;EAEV;AACF;AAEA,eAAehD,KAAK"},"metadata":{},"sourceType":"module"}