{"ast":null,"code":"var _jsxFileName = \"/home/workspace/reactjs/coding-practices/enhancementOfRestaurantApp/src/App.js\";\nimport { Component } from \"react\";\nimport Header from \"./components/Header\";\nimport Tabs from \"./components/Tabs\";\nimport CategoryItems from \"./components/CategoryItems\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      restrauntData: \"\",\n      activeTabId: \"11\",\n      cartSize: 0\n    };\n    this.getData = async () => {\n      const apiUrl = \"https://run.mocky.io/v3/77a7e71b-804a-4fbd-822c-3e365d3482cc\";\n      const response = await fetch(apiUrl);\n      const data = await response.json();\n      console.log(\"response =\", data);\n      const tableMenuList = data[0].table_menu_list;\n      const categoryDishesFunction = each => ({\n        dishAvailability: each.dish_Availability,\n        dishType: each.dish_type,\n        dishCalories: each.dish_calories,\n        dishCurrency: each.dish_currency,\n        dishDescription: each.dish_description,\n        dishId: each.dish_id,\n        dishName: each.dish_name,\n        dishPrice: each.dish_price,\n        nextUrl: each.nextUrl,\n        dishImage: each.dish_image,\n        addonCat: each.addonCat,\n        dishQuantity: 0\n      });\n      const tableMenuListFunction = each => ({\n        categoryDishes: each.category_dishes.map(eachCategory => categoryDishesFunction(eachCategory)),\n        menuCategory: each.menu_category,\n        menuCategoryId: each.menu_category_id,\n        menuCategoryImage: each.menu_category_image,\n        nextUrl: each.nextUrl\n      });\n      const newTableMenuList = tableMenuList.map(each => tableMenuListFunction(each));\n      const newCategoryDishes = newTableMenuList.map(each => {\n        const {\n          categoryDishes\n        } = each;\n        const innerResult = categoryDishes.map(eachItem => categoryDishesFunction(eachItem));\n        return innerResult;\n      });\n      if (response.ok === true) {\n        const newData = {\n          branchName: data[0].branch_name,\n          nextUrl: data[0].nextUrl,\n          restaurantId: data[0].restaurant_id,\n          restaurantImage: data[0].restaurant_image,\n          restaurantName: data[0].restaurant_name,\n          tableId: data[0].table_id,\n          tableMenuList: newTableMenuList,\n          tableName: data[0].table_name\n        };\n        console.log(\"new data\", newData);\n        this.setState({\n          restrauntData: newData\n        });\n      }\n    };\n    this.renderTabs = () => {\n      const {\n        restrauntData,\n        activeTabId\n      } = this.state;\n      const {\n        tableMenuList\n      } = restrauntData;\n      console.log(\"tablemenu list from function\", tableMenuList);\n      if (tableMenuList !== undefined) {\n        return /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"tabs-container\",\n          children: tableMenuList.map(each => /*#__PURE__*/_jsxDEV(Tabs, {\n            eachMenu: each,\n            isActive: activeTabId === each.menuCategoryId,\n            updateTabId: this.updateTabId\n          }, each.menuCategoryId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }, this);\n      }\n      return \"\";\n    };\n    this.updateTabId = tabId => {\n      this.setState({\n        activeTabId: tabId\n      });\n    };\n    this.onClickMinus = () => {\n      const {\n        cartSize\n      } = this.state;\n      if (cartSize >= 1) {\n        this.setState({\n          cartSize: cartSize - 1\n        });\n      } else {\n        this.setState({\n          cartSize: 0\n        });\n      }\n    };\n    this.onClickPlus = () => {\n      const {\n        cartSize\n      } = this.state;\n      this.setState({\n        cartSize: cartSize + 1\n      });\n    };\n    this.renderCategoryItems = tableMenuList => {\n      const {\n        activeTabId\n      } = this.state;\n      if (tableMenuList !== undefined) {\n        const newList = tableMenuList.filter(each => each.menuCategoryId === activeTabId);\n        return /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: newList.map(each => /*#__PURE__*/_jsxDEV(CategoryItems, {\n            eachItem: each.categoryDishes,\n            onClickMinus: this.onClickMinus,\n            onClickPlus: this.onClickPlus\n          }, each.menuCategoryId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 9\n        }, this);\n      }\n      return \"\";\n    };\n  }\n  componentDidMount() {\n    this.getData();\n  }\n  render() {\n    const {\n      restrauntData,\n      cartSize\n    } = this.state;\n    const {\n      restaurantName,\n      tableMenuList\n    } = restrauntData;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        restaurantName: restaurantName,\n        cartSize: cartSize\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), this.renderTabs(), this.renderCategoryItems(tableMenuList)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["Component","Header","Tabs","CategoryItems","jsxDEV","_jsxDEV","App","constructor","args","state","restrauntData","activeTabId","cartSize","getData","apiUrl","response","fetch","data","json","console","log","tableMenuList","table_menu_list","categoryDishesFunction","each","dishAvailability","dish_Availability","dishType","dish_type","dishCalories","dish_calories","dishCurrency","dish_currency","dishDescription","dish_description","dishId","dish_id","dishName","dish_name","dishPrice","dish_price","nextUrl","dishImage","dish_image","addonCat","dishQuantity","tableMenuListFunction","categoryDishes","category_dishes","map","eachCategory","menuCategory","menu_category","menuCategoryId","menu_category_id","menuCategoryImage","menu_category_image","newTableMenuList","newCategoryDishes","innerResult","eachItem","ok","newData","branchName","branch_name","restaurantId","restaurant_id","restaurantImage","restaurant_image","restaurantName","restaurant_name","tableId","table_id","tableName","table_name","setState","renderTabs","undefined","className","children","eachMenu","isActive","updateTabId","fileName","_jsxFileName","lineNumber","columnNumber","tabId","onClickMinus","onClickPlus","renderCategoryItems","newList","filter","componentDidMount","render"],"sources":["/home/workspace/reactjs/coding-practices/enhancementOfRestaurantApp/src/App.js"],"sourcesContent":["import { Component } from \"react\";\nimport Header from \"./components/Header\";\nimport Tabs from \"./components/Tabs\";\nimport CategoryItems from \"./components/CategoryItems\";\n\nimport \"./App.css\";\n\nclass App extends Component {\n  state = { restrauntData: \"\", activeTabId: \"11\", cartSize: 0 };\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  getData = async () => {\n    const apiUrl =\n      \"https://run.mocky.io/v3/77a7e71b-804a-4fbd-822c-3e365d3482cc\";\n\n    const response = await fetch(apiUrl);\n    const data = await response.json();\n    console.log(\"response =\", data);\n    const tableMenuList = data[0].table_menu_list;\n\n    const categoryDishesFunction = (each) => ({\n      dishAvailability: each.dish_Availability,\n      dishType: each.dish_type,\n      dishCalories: each.dish_calories,\n      dishCurrency: each.dish_currency,\n      dishDescription: each.dish_description,\n      dishId: each.dish_id,\n      dishName: each.dish_name,\n      dishPrice: each.dish_price,\n      nextUrl: each.nextUrl,\n      dishImage: each.dish_image,\n      addonCat: each.addonCat,\n      dishQuantity: 0,\n    });\n\n    const tableMenuListFunction = (each) => ({\n      categoryDishes: each.category_dishes.map((eachCategory) =>\n        categoryDishesFunction(eachCategory)\n      ),\n      menuCategory: each.menu_category,\n      menuCategoryId: each.menu_category_id,\n      menuCategoryImage: each.menu_category_image,\n      nextUrl: each.nextUrl,\n    });\n\n    const newTableMenuList = tableMenuList.map((each) =>\n      tableMenuListFunction(each)\n    );\n\n    const newCategoryDishes = newTableMenuList.map((each) => {\n      const { categoryDishes } = each;\n      const innerResult = categoryDishes.map((eachItem) =>\n        categoryDishesFunction(eachItem)\n      );\n      return innerResult;\n    });\n\n    if (response.ok === true) {\n      const newData = {\n        branchName: data[0].branch_name,\n        nextUrl: data[0].nextUrl,\n        restaurantId: data[0].restaurant_id,\n        restaurantImage: data[0].restaurant_image,\n        restaurantName: data[0].restaurant_name,\n        tableId: data[0].table_id,\n        tableMenuList: newTableMenuList,\n        tableName: data[0].table_name,\n      };\n      console.log(\"new data\", newData);\n\n      this.setState({\n        restrauntData: newData,\n      });\n    }\n  };\n\n  renderTabs = () => {\n    const { restrauntData, activeTabId } = this.state;\n    const { tableMenuList } = restrauntData;\n    console.log(\"tablemenu list from function\", tableMenuList);\n    if (tableMenuList !== undefined) {\n      return (\n        <ul className=\"tabs-container\">\n          {tableMenuList.map((each) => (\n            <Tabs\n              eachMenu={each}\n              key={each.menuCategoryId}\n              isActive={activeTabId === each.menuCategoryId}\n              updateTabId={this.updateTabId}\n            />\n          ))}\n        </ul>\n      );\n    }\n    return \"\";\n  };\n\n  updateTabId = (tabId) => {\n    this.setState({\n      activeTabId: tabId,\n    });\n  };\n\n  onClickMinus = () => {\n    const { cartSize } = this.state;\n    if (cartSize >= 1) {\n      this.setState({\n        cartSize: cartSize - 1,\n      });\n    } else {\n      this.setState({\n        cartSize: 0,\n      });\n    }\n  };\n\n  onClickPlus = () => {\n    const { cartSize } = this.state;\n    this.setState({\n      cartSize: cartSize + 1,\n    });\n  };\n\n  renderCategoryItems = (tableMenuList) => {\n    const { activeTabId } = this.state;\n\n    if (tableMenuList !== undefined) {\n      const newList = tableMenuList.filter(\n        (each) => each.menuCategoryId === activeTabId\n      );\n\n      return (\n        <ul>\n          {newList.map((each) => (\n            <CategoryItems\n              eachItem={each.categoryDishes}\n              key={each.menuCategoryId}\n              onClickMinus={this.onClickMinus}\n              onClickPlus={this.onClickPlus}\n            />\n          ))}\n        </ul>\n      );\n    }\n    return \"\";\n  };\n\n  render() {\n    const { restrauntData, cartSize } = this.state;\n\n    const { restaurantName, tableMenuList } = restrauntData;\n\n    return (\n      <div>\n        <Header restaurantName={restaurantName} cartSize={cartSize} />\n        {this.renderTabs()}\n        {this.renderCategoryItems(tableMenuList)}\n      </div>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}