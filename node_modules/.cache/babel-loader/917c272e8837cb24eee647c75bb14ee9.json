{"ast":null,"code":"var _jsxFileName = \"/home/workspace/reactjs/coding-practices/enhancementOfRestaurantApp/src/components/Home/index.js\";\nimport { Component } from \"react\";\nimport Header from \"../Header\";\nimport Tabs from \"../Tabs\";\nimport CategoryItems from \"../CategoryItems\";\nimport \"./index.css\";\nimport CartContext from \"../ReactContext/Context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      restrauntData: \"\",\n      activeTabId: \"11\",\n      cartSize: 0\n    };\n    this.getData = async () => {\n      const apiUrl = \"https://run.mocky.io/v3/77a7e71b-804a-4fbd-822c-3e365d3482cc\";\n      const response = await fetch(apiUrl);\n      const data = await response.json();\n      console.log(\"response =\", data);\n      const tableMenuList = data[0].table_menu_list;\n      const categoryDishesFunction = each => ({\n        dishAvailability: each.dish_Availability,\n        dishType: each.dish_type,\n        dishCalories: each.dish_calories,\n        dishCurrency: each.dish_currency,\n        dishDescription: each.dish_description,\n        dishId: each.dish_id,\n        dishName: each.dish_name,\n        dishPrice: each.dish_price,\n        nextUrl: each.nexturl,\n        dishImage: each.dish_image,\n        addonCat: each.addonCat,\n        dishQuantity: 1\n      });\n      const tableMenuListFunction = each => ({\n        categoryDishes: each.category_dishes.map(eachCategory => categoryDishesFunction(eachCategory)),\n        menuCategory: each.menu_category,\n        menuCategoryId: each.menu_category_id,\n        menuCategoryImage: each.menu_category_image,\n        nextUrl: each.nexturl\n      });\n      const newTableMenuList = tableMenuList.map(each => tableMenuListFunction(each));\n      const newCategoryDishes = newTableMenuList.map(each => {\n        const {\n          categoryDishes\n        } = each;\n        const innerResult = categoryDishes.map(eachItem => categoryDishesFunction(eachItem));\n        return innerResult;\n      });\n      /*#__PURE__*/_jsxDEV(CartContext.Consumer, {\n        children: value => {\n          const {\n            updateTitle\n          } = value;\n          if (response.ok === true) {\n            const newData = {\n              branchName: data[0].branch_name,\n              nextUrl: data[0].nextUrl,\n              restaurantId: data[0].restaurant_id,\n              restaurantImage: data[0].restaurant_image,\n              restaurantName: data[0].restaurant_name,\n              tableId: data[0].table_id,\n              tableMenuList: newTableMenuList,\n              tableName: data[0].table_name\n            };\n            console.log(\"new data\", newData);\n            this.setState({\n              restrauntData: newData\n            });\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 5\n      }, this);\n    };\n    this.renderTabs = () => {\n      const {\n        restrauntData,\n        activeTabId\n      } = this.state;\n      const {\n        tableMenuList\n      } = restrauntData;\n      console.log(\"tablemenu list from function\", tableMenuList);\n      if (tableMenuList !== undefined) {\n        return /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"tabs-container\",\n          children: tableMenuList.map(each => /*#__PURE__*/_jsxDEV(Tabs, {\n            eachMenu: each,\n            isActive: activeTabId === each.menuCategoryId,\n            updateTabId: this.updateTabId\n          }, each.menuCategoryId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }, this);\n      }\n      return \"\";\n    };\n    this.updateTabId = tabId => {\n      this.setState({\n        activeTabId: tabId\n      });\n    };\n    this.onClickMinus = () => {\n      const {\n        cartSize\n      } = this.state;\n      if (cartSize >= 1) {\n        this.setState({\n          cartSize: cartSize - 1\n        });\n      } else {\n        this.setState({\n          cartSize: 0\n        });\n      }\n    };\n    this.onClickPlus = () => {\n      const {\n        cartSize\n      } = this.state;\n      this.setState({\n        cartSize: cartSize + 1\n      });\n    };\n    this.renderCategoryItems = tableMenuList => {\n      const {\n        activeTabId\n      } = this.state;\n      if (tableMenuList !== undefined) {\n        const newList = tableMenuList.filter(each => each.menuCategoryId === activeTabId);\n        return /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: newList.map(each => /*#__PURE__*/_jsxDEV(CategoryItems, {\n            eachItem: each.categoryDishes,\n            onClickMinus: this.onClickMinus,\n            onClickPlus: this.onClickPlus\n          }, each.menuCategoryId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 9\n        }, this);\n      }\n      return \"\";\n    };\n  }\n  componentDidMount() {\n    this.getData();\n  }\n  render() {\n    const {\n      restrauntData,\n      cartSize\n    } = this.state;\n    const {\n      restaurantName,\n      tableMenuList\n    } = restrauntData;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        restaurantName: restaurantName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), this.renderTabs(), this.renderCategoryItems(tableMenuList)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Home;","map":{"version":3,"names":["Component","Header","Tabs","CategoryItems","CartContext","jsxDEV","_jsxDEV","Home","constructor","args","state","restrauntData","activeTabId","cartSize","getData","apiUrl","response","fetch","data","json","console","log","tableMenuList","table_menu_list","categoryDishesFunction","each","dishAvailability","dish_Availability","dishType","dish_type","dishCalories","dish_calories","dishCurrency","dish_currency","dishDescription","dish_description","dishId","dish_id","dishName","dish_name","dishPrice","dish_price","nextUrl","nexturl","dishImage","dish_image","addonCat","dishQuantity","tableMenuListFunction","categoryDishes","category_dishes","map","eachCategory","menuCategory","menu_category","menuCategoryId","menu_category_id","menuCategoryImage","menu_category_image","newTableMenuList","newCategoryDishes","innerResult","eachItem","Consumer","children","value","updateTitle","ok","newData","branchName","branch_name","restaurantId","restaurant_id","restaurantImage","restaurant_image","restaurantName","restaurant_name","tableId","table_id","tableName","table_name","setState","fileName","_jsxFileName","lineNumber","columnNumber","renderTabs","undefined","className","eachMenu","isActive","updateTabId","tabId","onClickMinus","onClickPlus","renderCategoryItems","newList","filter","componentDidMount","render"],"sources":["/home/workspace/reactjs/coding-practices/enhancementOfRestaurantApp/src/components/Home/index.js"],"sourcesContent":["import { Component } from \"react\";\nimport Header from \"../Header\";\nimport Tabs from \"../Tabs\";\nimport CategoryItems from \"../CategoryItems\";\n\nimport \"./index.css\";\nimport CartContext from \"../ReactContext/Context\";\n\nclass Home extends Component {\n  state = { restrauntData: \"\", activeTabId: \"11\", cartSize: 0 };\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  getData = async () => {\n    const apiUrl =\n      \"https://run.mocky.io/v3/77a7e71b-804a-4fbd-822c-3e365d3482cc\";\n\n    const response = await fetch(apiUrl);\n    const data = await response.json();\n    console.log(\"response =\", data);\n    const tableMenuList = data[0].table_menu_list;\n\n    const categoryDishesFunction = (each) => ({\n      dishAvailability: each.dish_Availability,\n      dishType: each.dish_type,\n      dishCalories: each.dish_calories,\n      dishCurrency: each.dish_currency,\n      dishDescription: each.dish_description,\n      dishId: each.dish_id,\n      dishName: each.dish_name,\n      dishPrice: each.dish_price,\n      nextUrl: each.nexturl,\n      dishImage: each.dish_image,\n      addonCat: each.addonCat,\n      dishQuantity: 1,\n    });\n\n    const tableMenuListFunction = (each) => ({\n      categoryDishes: each.category_dishes.map((eachCategory) =>\n        categoryDishesFunction(eachCategory)\n      ),\n      menuCategory: each.menu_category,\n      menuCategoryId: each.menu_category_id,\n      menuCategoryImage: each.menu_category_image,\n      nextUrl: each.nexturl,\n    });\n\n    const newTableMenuList = tableMenuList.map((each) =>\n      tableMenuListFunction(each)\n    );\n\n    const newCategoryDishes = newTableMenuList.map((each) => {\n      const { categoryDishes } = each;\n      const innerResult = categoryDishes.map((eachItem) =>\n        categoryDishesFunction(eachItem)\n      );\n      return innerResult;\n    });\n\n    <CartContext.Consumer>\n      {(value) => {\n        const { updateTitle } = value;\n        if (response.ok === true) {\n          const newData = {\n            branchName: data[0].branch_name,\n            nextUrl: data[0].nextUrl,\n            restaurantId: data[0].restaurant_id,\n            restaurantImage: data[0].restaurant_image,\n            restaurantName: data[0].restaurant_name,\n            tableId: data[0].table_id,\n            tableMenuList: newTableMenuList,\n            tableName: data[0].table_name,\n          };\n          console.log(\"new data\", newData);\n\n          this.setState({\n            restrauntData: newData,\n          });\n        }\n      }}\n    </CartContext.Consumer>;\n  };\n\n  renderTabs = () => {\n    const { restrauntData, activeTabId } = this.state;\n    const { tableMenuList } = restrauntData;\n    console.log(\"tablemenu list from function\", tableMenuList);\n    if (tableMenuList !== undefined) {\n      return (\n        <ul className=\"tabs-container\">\n          {tableMenuList.map((each) => (\n            <Tabs\n              eachMenu={each}\n              key={each.menuCategoryId}\n              isActive={activeTabId === each.menuCategoryId}\n              updateTabId={this.updateTabId}\n            />\n          ))}\n        </ul>\n      );\n    }\n    return \"\";\n  };\n\n  updateTabId = (tabId) => {\n    this.setState({\n      activeTabId: tabId,\n    });\n  };\n\n  onClickMinus = () => {\n    const { cartSize } = this.state;\n    if (cartSize >= 1) {\n      this.setState({\n        cartSize: cartSize - 1,\n      });\n    } else {\n      this.setState({\n        cartSize: 0,\n      });\n    }\n  };\n\n  onClickPlus = () => {\n    const { cartSize } = this.state;\n    this.setState({\n      cartSize: cartSize + 1,\n    });\n  };\n\n  renderCategoryItems = (tableMenuList) => {\n    const { activeTabId } = this.state;\n\n    if (tableMenuList !== undefined) {\n      const newList = tableMenuList.filter(\n        (each) => each.menuCategoryId === activeTabId\n      );\n\n      return (\n        <ul>\n          {newList.map((each) => (\n            <CategoryItems\n              eachItem={each.categoryDishes}\n              key={each.menuCategoryId}\n              onClickMinus={this.onClickMinus}\n              onClickPlus={this.onClickPlus}\n            />\n          ))}\n        </ul>\n      );\n    }\n    return \"\";\n  };\n\n  render() {\n    const { restrauntData, cartSize } = this.state;\n\n    const { restaurantName, tableMenuList } = restrauntData;\n\n    return (\n      <div>\n        <Header restaurantName={restaurantName} />\n        {this.renderTabs()}\n        {this.renderCategoryItems(tableMenuList)}\n      </div>\n    );\n  }\n}\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}